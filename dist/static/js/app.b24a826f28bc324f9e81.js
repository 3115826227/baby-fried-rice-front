webpackJsonp([5],{"7My9":function(e,t){},"8IVd":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("//Fk"),a=n.n(o),r=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},i,!1,function(e){n("o8nZ")},null,null).exports,l=n("/ocq"),c={name:"asideBarItem",props:{router:{type:Object}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.router.hasOwnProperty("children")?n("el-submenu",{attrs:{index:e.router.path}},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.router.name))]),e._v(" "),e._l(e.router.children,function(e){return n("asideBarItem",{key:e.path,attrs:{router:e}})})],2):n("el-menu-item",{key:e.router.path,attrs:{index:e.router.path}},[1==e.router.index?n("i",{staticClass:"iconfont"},[e._v("")]):2==e.router.index?n("i",{staticClass:"iconfont"},[e._v("")]):3==e.router.index?n("i",{staticClass:"iconfont"},[e._v("")]):4==e.router.index?n("i",{staticClass:"iconfont"},[e._v("")]):e._e(),e._v(" "),n("span",{staticStyle:{"margin-left":"3px"}},[e._v(e._s(e.router.name))])])},staticRenderFns:[]};var d=n("VU/8")(c,u,!1,function(e){n("Y6vR")},"data-v-d9600f9e",null).exports,m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content"},[t("router-view")],1)},staticRenderFns:[]},p={name:"index",components:{Content:n("VU/8")({name:"content"},m,!1,null,null,null).exports,asideBarItem:d},data:function(){return{value:new Date,punchdialogVisible:!1,levelList:null,detail:{}}},computed:{routers:function(){return this.$router.options.routes[0].children}},watch:{$route:function(){this.getBreadcrumb()}},methods:{handleOpen:function(e,t){},handleClose:function(e,t){},getBreadcrumb:function(){var e=this.$route.matched.filter(function(e){return e.name});this.levelList=e},getDetail:function(){var e=this;this.$axios.get("/account/user/detail",{headers:{token:localStorage.getItem("token")}}).then(function(t){0===t.data.code&&(e.detail=t.data.data,localStorage.setItem("id",e.detail.user_id),localStorage.setItem("username",e.detail.username))}).catch(function(e){console.log(e)})},logout:function(){this.$axios.get("/account/user/logout",{headers:{token:localStorage.getItem("token")}}).then(function(e){0===e.data.code&&(window.location.href="/")}).catch(function(e){console.log(e)})},toPunch:function(){this.punchdialogVisible=!0}},created:function(){this.getBreadcrumb(),this.getDetail()}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{attrs:{id:"index-container"}},[n("el-header",{attrs:{id:"header"}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal",router:"","default-active":e.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},[n("el-menu-item",[n("router-link",{staticClass:"header-label",attrs:{to:"/index"}},[e._v("宝宝煎米果")])],1),e._v(" "),e._l(e.routers,function(e){return n("asideBarItem",{key:e.path,attrs:{router:e}})}),e._v(" "),n("el-submenu",{staticStyle:{float:"right"}},[n("template",{slot:"title"},[n("span",{staticClass:"image"},[e._v(e._s(e.detail.username[0]))]),e._v(" "),n("span",[e._v(e._s(e.detail.username)+"@baby.com")])]),e._v(" "),n("el-menu-item",{on:{click:e.toPunch}},[e._v("每日打卡")]),e._v(" "),n("el-menu-item",{attrs:{index:"4-2"},on:{click:e.logout}},[e._v("退出")])],2)],2)],1),e._v(" "),n("el-container",{attrs:{id:"content"}},[n("el-main",{staticClass:"el-main"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.levelList,function(t){return n("el-breadcrumb-item",{key:t.path},[n("span",[e._v(e._s(t.name))])])}),1),e._v(" "),n("Content")],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"打卡",visible:e.punchdialogVisible,width:"70%"},on:{"update:visible":function(t){e.punchdialogVisible=t}}},[n("el-calendar",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},staticRenderFns:[]};var h=n("VU/8")(p,f,!1,function(e){n("7My9")},"data-v-0dea5800",null).exports,v={name:"Login",data:function(){return{form:{login_name:"",password:""},ip:""}},mounted:function(){this.getIP()},methods:{getIP:function(){this.$axios.get("http://pv.sohu.com/cityjson?ie=utf-8",{}).then(function(e){var t=JSON.parse(e.data.substring(18,e.data.length-1)).cip;localStorage.setItem("ip",t),console.log(t)})},login:function(){var e=this;this.$axios.post("/user/login",{login_name:this.form.login_name,password:this.form.password}).then(function(t){0===t.data.code?(window.localStorage.setItem("token",t.data.data.token),window.localStorage.setItem("super",t.data.data.user_info.is_super),window.sessionStorage.setItem("token",t.data.data.token),e.$router.push({path:"/index"})):console.log(t)}).catch(function(t){console.log(t),e.$message.error("请求出错，可能是输入的用户名和密码不匹配")})},register:function(){this.$router.push({path:"/register"})}}},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"name"},[e._v("\n      宝宝煎米果\n    ")]),e._v(" "),n("el-form",{ref:e.form,attrs:{model:e.form,"label-width":"70px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.form.login_name,callback:function(t){e.$set(e.form,"login_name",t)},expression:"form.login_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password",placeholder:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"",id:"submit"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登陆")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var _=n("VU/8")(v,g,!1,function(e){n("8IVd")},"data-v-11ad65d7",null).exports,b={name:"register",components:{},data:function(){return{form:{gender:"男"},timer:null,count:"",clickGetCode:!1,confirm_message:"",dialogVisible:!1,block_y:0,imgurl:"",miniimgurl:"",chenckMoveid:"",text:""}},created:function(){localStorage.setItem("confirm",!1)},methods:{login:function(){this.$router.push({path:"/"})},getCode:function(){var e=this;if("false"!==localStorage.getItem("confirm")){this.confirm_message="";this.timer||(this.clickGetCode=!0,this.count=10,this.timer=setInterval(function(){e.count>0&&e.count<=10?e.count--:(e.clickGetCode=!1,clearInterval(e.timer),e.timer=null)},1e3))}else this.confirm_message="请先进行滑块验证"},register:function(){var e=this,t=!1;"男"===this.form.gender&&(t=!0),this.$axios.post("/user/register",{login_name:this.form.login_name,password:this.form.password,username:this.form.username,gender:t}).then(function(t){0===t.data.code&&e.$router.push({path:"/"})}).catch(function(e){console.log(e)})},onSuccess:function(){},onFail:function(){},getImageVerifyCode:function(){var e=this;this.$axios.get("/usr/code").then(function(t){if(t&&"20000"===t.code){var n=JSON.parse(t.data);e.block_y=n.yHeight,e.imgurl="data:image/png;base64,"+n.bigImage,e.miniimgurl="data:image/png;base64,"+n.smallImage,e.chenckMoveid=n.chenckMoveid,e.$refs.dialogopen&&e.$refs.dialogopen.reset(n.yHeight)}else this.$message({showClose:!0,message:"获取图形验证码失败，请重试",type:"error"})}).catch(function(e){console.log(e)})},onRefresh:function(){this.imgurl="https://cpro.baidu.com/cpro/ui/uijs.php?en=mywWUA71T1YsFh7sT7qGujYsFhPC5H0huAbqrauGTdq9TZ0qnauJp1Y4uWN-mHIhuHc3Pjm1uADzFh_qFRFAFRn4FRPKFRf1FRFaFR7AFRcLFRfvFRP7FRmvFhkdpvbqnzuVmLKV5HTvnHD1FMDqmLPbUhF9pywdgvPsTBuzmWYsFMF15HDhTvN_UANzgv-b5HDhTv-b5yDznvfYPWc3uhN9P1N-rymhTLwGujYknHThIjdYTAP_pyPouyf1gv9WFMwb5Hnsn1cdnW6hIAd15HDdrjTvPHDLPWnhIZRqIHnsn1cdnW6hIHdCIZwsTzR1fiRzwBRzwhF_UvT-nbNWTvw8FHF7UhNYFMNGUy-b5RmdPH0kPRfLn1PanbuAnYc3nDc4rRPjwRmLPHwKfWcYFMmqnBuG5H6LmhF9uhNW&besl=-1&c=news&cf=1&cvrq=616350&eid_list=200197&expid=200019_200197_200352_203600_205056_205198_205949_208996_209813&fr=32&fv=0&haacp=253&img_typ=21094&itm=0&lu_idc=tc&lukid=3&lus=a23d4628fea75e9f&lust=5ea1a4b3&mscf=0&mtids=2002052189&n=10&nttp=1&p=baidu&pbs=228840&sce=7&sr=280&ssp2=1&tpl=baiduCustNativeADImageCarousel&tsf=dtp:1&u=%2Fqq%5F42068550%2Farticle%2Fdetails%2F92604316&uicf=lurecv&urlid=0&eot=1",this.miniimgurl="https://cpro.baidu.com/cpro/ui/uijs.php?en=mywWUA71T1YsFh7sT7qGujYsFhPC5H0huAbqrauGTdq9TZ0qnauJp1Y4uWN-mHIhuHc3Pjm1uADzFh_qFRFAFRn4FRPKFRf1FRFaFR7AFRcLFRfvFRP7FRmvFhkdpvbqnzuVmLKV5HTvnHD1FMDqmLPbUhF9pywdgvPsTBuzmWYsFMF15HDhTvN_UANzgv-b5HDhTv-b5yDznvfYPWc3uhN9P1N-rymhTLwGujYknHThIjdYTAP_pyPouyf1gv9WFMwb5Hnsn1cdnW6hIAd15HDdrjTvPHDLPWnhIZRqIHnsn1cdnW6hIHdCIZwsTzR1fiRzwBRzwhF_UvT-nbNWTvw8FHF7UhNYFMNGUy-b5RmdPH0kPRfLn1PanbuAnYc3nDc4rRPjwRmLPHwKfWcYFMmqnBuG5H6LmhF9uhNW&besl=-1&c=news&cf=1&cvrq=616350&eid_list=200197&expid=200019_200197_200352_203600_205056_205198_205949_208996_209813&fr=32&fv=0&haacp=253&img_typ=21094&itm=0&lu_idc=tc&lukid=3&lus=a23d4628fea75e9f&lust=5ea1a4b3&mscf=0&mtids=2002052189&n=10&nttp=1&p=baidu&pbs=228840&sce=7&sr=280&ssp2=1&tpl=baiduCustNativeADImageCarousel&tsf=dtp:1&u=%2Fqq%5F42068550%2Farticle%2Fdetails%2F92604316&uicf=lurecv&urlid=0&eot=1"},submitForm:function(e,t){var o=this,a=this,r=this.$loading({lock:!0,text:"登录中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.loading=!0;var i=n("xrTZ").Base64,s={username:i.encode(this.ruleForm2.username),password:i.encode(this.ruleForm2.password),x_index:t,chenckMoveid:a.chenckMoveid};this.$store.dispatch("Login",s).then(function(e){r.close(),o.isLogined=!0,o.loading=!1,o.$router.push({path:"/"})}).catch(function(){r.close(),o.loading=!1,a.$refs.dialogopen&&a.$refs.dialogopen.reset()})}}},F={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"register"}},[n("div",{staticClass:"name"},[e._v("\n      宝宝煎米果\n    ")]),e._v(" "),n("AliCaptcha"),e._v(" "),n("el-form",{attrs:{model:e.form,"label-width":"20%"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.form.login_name,callback:function(t){e.$set(e.form,"login_name",t)},expression:"form.login_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"昵称"}},[n("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password",placeholder:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"重复密码"}},[n("el-input",{attrs:{type:"password",placeholder:""},model:{value:e.form.repassword,callback:function(t){e.$set(e.form,"repassword",t)},expression:"form.repassword"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"手机号"}},[n("el-input",{attrs:{type:"phone",placeholder:""},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),n("el-form-item",{attrs:{label:""}},[e.confirm_message?n("span",{staticStyle:{"font-size":"11px",color:"red"}},[e._v(e._s(e.confirm_message))]):e._e()]),e._v(" "),n("el-form-item",{attrs:{label:"验证码"}},[n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{type:"code",placeholder:""},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),n("el-col",{staticStyle:{"margin-left":"15px"},attrs:{span:5}},[e.clickGetCode?n("span",[n("el-button",{attrs:{type:"primary",disabled:""}},[e._v(e._s(e.count)+" s")])],1):n("span",[n("el-button",{attrs:{type:"primary"},on:{click:e.getCode}},[e._v("点击获取")])],1)])],1),e._v(" "),n("el-form-item",{attrs:{label:"性别"}},[n("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[n("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),n("el-option",{attrs:{label:"女",value:"女"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"",id:"submit"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")])],1)],1),e._v(" "),n("el-dialog",{attrs:{"append-to-body":"",visible:e.dialogVisible,"show-close":!1,width:"450px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("SlideVerify",{ref:"dialogopen",attrs:{l:42,r:10,w:410,h:200,block_y:e.block_y,imgurl:e.imgurl,miniimgurl:e.miniimgurl,"slider-text":e.text},on:{success:e.onSuccess,fail:e.onFail,refresh:e.onRefresh}})],1)],1)},staticRenderFns:[]};var w=n("VU/8")(b,F,!1,function(e){n("jBI7")},"data-v-103f1e28",null).exports;r.default.use(l.a);var y=[{path:"/index",name:"首页",component:h,children:[{path:"/im",index:1,name:"通讯",component:function(){return n.e(0).then(n.bind(null,"s8t2"))}},{path:"/space",index:2,name:"动态",component:function(){return n.e(2).then(n.bind(null,"YocN"))}},{path:"/square",index:3,name:"广场",component:function(){return n.e(1).then(n.bind(null,"NQaX"))}},{path:"/user",index:4,name:"个人中心",component:function(){return n.e(3).then(n.bind(null,"kB97"))}}]},{path:"/",name:"登陆",component:_},{path:"/register",name:"注册",component:w}],k=new l.a({routes:y}),x=n("zL8q"),R=n.n(x),I=(n("tvR6"),n("mtWM")),P=n.n(I);r.default.prototype.$axios=P.a.create({baseURL:"http://localhost:8090/api",timeout:5e3}),P.a.interceptors.request.use(function(e){return e.headers["Content-Type"]="application/json",e.headers["Access-Control-Allow-Origin"]="*",e.headers["X-Real-IP"]=localStorage.getItem("ip"),e.headers.token=localStorage.getItem("token"),e},function(e){console.log(e)},function(e){return alert("请求超时，请稍后重试！"),a.a.reject(e)}),r.default.use(R.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:k,components:{App:s},template:"<App/>"})},Y6vR:function(e,t){},jBI7:function(e,t){},o8nZ:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b24a826f28bc324f9e81.js.map