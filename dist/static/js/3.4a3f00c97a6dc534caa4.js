webpackJsonp([3],{YQsq:function(t,e){},kB97:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"user",data:function(){return{detail:{},gender:"",verify:"未认证",verifyDialogVisible:!1,verify_form:{},school:[]}},created:function(){this.getDetail(),this.getSchools()},methods:{getDetail:function(){var t=this;this.$axios.get("/account/user/detail",{headers:{token:localStorage.getItem("token")}}).then(function(e){t.detail=e.data.data,!1===e.data.data.gender?t.gender="女":t.gender="男",!0===e.data.data.verify?t.verify="已认证":t.verify=""}).catch(function(t){console.log(t)})},toVerify:function(){this.verifyDialogVisible=!0},userVerify:function(){var t=this;this.$axios.post("/account/user/verify",this.verify_form,{headers:{token:localStorage.getItem("token")}}).then(function(e){0===e.data.code?(t.getDetail(),t.$message.success("认证成功")):t.$message.success("认证失败")}).catch(function(t){console.log(t)})},selectSchoolId:function(t){},getSchools:function(){var t=this;this.$axios.get("/user/school").then(function(e){t.school=e.data.data,console.log(t.school)}).catch(function(t){console.log(t)})}}},s={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{attrs:{id:"user"}},[l("div",{staticClass:"board"},[l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("用户名：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[t._v(t._s(t.detail.login_name))])],1),t._v(" "),l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("昵称：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[t._v(t._s(t.detail.username))])],1),t._v(" "),l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("性别：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[t._v(t._s(t.gender))])],1),t._v(" "),l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("认证情况：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[t.verify?l("span",{staticClass:"info-verify"},[l("i",[l("strong",[t._v("V")])]),t._v(" 已认证")]):l("span",[t._v("未认证")])]),t._v(" "),t.detail.verify?t._e():l("el-col",{attrs:{span:3}},[l("a",{staticClass:"a-verify",on:{click:t.toVerify}},[t._v("点击认证")])])],1),t._v(" "),l("el-divider"),t._v(" "),t.detail.verify?l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("姓名：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[l("span",{staticClass:"unmodify-info"},[t._v(t._s(t.detail.name))])])],1):t._e(),t._v(" "),t.detail.verify?l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("学校：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[l("span",{staticClass:"unmodify-info"},[t._v(t._s(t.detail.school))])])],1):t._e(),t._v(" "),t.detail.verify?l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("院系：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[l("span",{staticClass:"unmodify-info"},[t._v(t._s(t.detail.faculty))])])],1):t._e(),t._v(" "),t.detail.verify?l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("年级：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[l("span",{staticClass:"unmodify-info"},[t._v(t._s(t.detail.grade))])])],1):t._e(),t._v(" "),t.detail.verify?l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("专业：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[l("span",{staticClass:"unmodify-info"},[t._v(t._s(t.detail.major))])])],1):t._e(),t._v(" "),t.detail.verify?l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("学号：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[l("span",{staticClass:"unmodify-info"},[t._v(t._s(t.detail.number))])])],1):t._e(),t._v(" "),t.detail.verify?l("el-row",[l("el-col",{staticClass:"col-label",attrs:{span:3}},[l("label",[t._v("身份证：")])]),t._v(" "),l("el-col",{staticClass:"col-content",attrs:{span:6}},[l("span",{staticClass:"unmodify-info"},[t._v(t._s(t.detail.identify))])])],1):t._e()],1),t._v(" "),l("el-dialog",{attrs:{title:"用户认证",visible:t.verifyDialogVisible,width:"50%",height:"50%"},on:{"update:visible":function(e){t.verifyDialogVisible=e}}},[[l("el-form",{attrs:{model:t.verify_form,"label-width":"20%","label-position":"right"}},[l("el-form-item",{attrs:{label:"学校"}},[l("el-select",{attrs:{placeholder:"使用状态"},on:{change:function(e){return t.selectSchoolId(e)}},model:{value:t.verify_form.school_id,callback:function(e){t.$set(t.verify_form,"school_id",e)},expression:"verify_form.school_id"}},t._l(t.school,function(t){return l("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}),1)],1),t._v(" "),l("el-form-item",{attrs:{label:"姓名："}},[l("el-input",{model:{value:t.verify_form.name,callback:function(e){t.$set(t.verify_form,"name",e)},expression:"verify_form.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"身份证："}},[l("el-input",{model:{value:t.verify_form.identify,callback:function(e){t.$set(t.verify_form,"identify",e)},expression:"verify_form.identify"}})],1)],1)],t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.verifyDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.userVerify}},[t._v("确 定")])],1)],2)],1)},staticRenderFns:[]};var o=l("VU/8")(a,s,!1,function(t){l("YQsq")},"data-v-680460ee",null);e.default=o.exports}});
//# sourceMappingURL=3.4a3f00c97a6dc534caa4.js.map