webpackJsonp([5],{"4SG/":function(e,t){},"4lGY":function(e,t){},MU2N:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"App"},o,!1,function(e){n("o8nZ")},null,null).exports,i=n("/ocq"),l={name:"asideBarItem",props:{router:{type:Object}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.router.hasOwnProperty("children")?n("el-submenu",{attrs:{index:e.router.path}},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.router.name))]),e._v(" "),e._l(e.router.children,function(e){return n("asideBarItem",{key:e.path,attrs:{router:e}})})],2):n("el-menu-item",{key:e.router.path,attrs:{index:e.router.path}},[1==e.router.index?n("i",{staticClass:"iconfont"},[e._v("")]):2==e.router.index?n("i",{staticClass:"iconfont"},[e._v("")]):3==e.router.index?n("i",{staticClass:"iconfont"},[e._v("")]):4==e.router.index?n("i",{staticClass:"iconfont"},[e._v("")]):e._e(),e._v(" "),n("span",{staticStyle:{"margin-left":"3px"}},[e._v(e._s(e.router.name))])])},staticRenderFns:[]};var c=n("VU/8")(l,s,!1,function(e){n("Y6vR")},"data-v-d9600f9e",null).exports,u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content"},[t("router-view")],1)},staticRenderFns:[]},d={name:"index",components:{Content:n("VU/8")({name:"content"},u,!1,null,null,null).exports,asideBarItem:c},data:function(){return{value:new Date,punchdialogVisible:!1,levelList:null,detail:{}}},computed:{routers:function(){return this.$router.options.routes[0].children}},watch:{$route:function(){this.getBreadcrumb()}},methods:{handleOpen:function(e,t){},handleClose:function(e,t){},getBreadcrumb:function(){var e=this.$route.matched.filter(function(e){return e.name});this.levelList=e},getDetail:function(){var e=this;this.$axios.get("/account/user",{headers:{token:localStorage.getItem("token")}}).then(function(t){0===t.data.code?(e.detail=t.data.data,localStorage.setItem("id",e.detail.user_id)):window.location.href="/"}).catch(function(e){console.log(e),window.location.href="/"})},logout:function(){this.$axios.get("/account/user/logout",{headers:{token:localStorage.getItem("token")}}).then(function(e){0===e.data.code&&(window.location.href="/")}).catch(function(e){console.log(e)})},toPunch:function(){this.punchdialogVisible=!0}},created:function(){this.getBreadcrumb(),this.getDetail()}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{attrs:{id:"index-container"}},[n("el-header",{attrs:{id:"header"}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal",router:"","default-active":e.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},[n("el-menu-item",[n("router-link",{staticClass:"header-label",attrs:{to:"/index"}},[e._v("宝宝煎米果")])],1),e._v(" "),e._l(e.routers,function(e){return n("asideBarItem",{key:e.path,attrs:{router:e}})}),e._v(" "),n("el-submenu",{staticStyle:{float:"right"}},[n("template",{slot:"title"},[e._v(e._s(e.detail.username)+"@baby.com")]),e._v(" "),n("el-menu-item",{on:{click:e.toPunch}},[e._v("每日打卡")]),e._v(" "),n("el-menu-item",{attrs:{index:"4-2"},on:{click:e.logout}},[e._v("退出")])],2)],2)],1),e._v(" "),n("el-container",{attrs:{id:"content"}},[n("el-main",{staticClass:"el-main"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.levelList,function(t){return n("el-breadcrumb-item",{key:t.path},[n("span",[e._v(e._s(t.name))])])}),1),e._v(" "),n("Content")],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"打卡",visible:e.punchdialogVisible,width:"70%"},on:{"update:visible":function(t){e.punchdialogVisible=t}}},[n("el-calendar",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},staticRenderFns:[]};var p=n("VU/8")(d,m,!1,function(e){n("4lGY")},"data-v-4d1a52f9",null).exports,f={name:"Login",data:function(){return{form:{login_name:"",password:""}}},methods:{login:function(){var e=this;this.$axios.post("/user/login",{login_name:this.form.login_name,password:this.form.password}).then(function(t){0===t.data.code?(window.localStorage.setItem("token",t.data.data.token),window.localStorage.setItem("super",t.data.data.user_info.is_super),e.$router.push({path:"/index"})):console.log(t)}).catch(function(t){console.log(t),e.$message.error("请求出错，可能是输入的用户名和密码不匹配")})},register:function(){this.$router.push({path:"/register"})}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"name"},[e._v("\n      宝宝煎米果\n    ")]),e._v(" "),n("el-form",{ref:e.form,attrs:{model:e.form,"label-width":"70px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.form.login_name,callback:function(t){e.$set(e.form,"login_name",t)},expression:"form.login_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password",placeholder:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"",id:"submit"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登陆")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var v=n("VU/8")(f,h,!1,function(e){n("MU2N")},"data-v-f8d32da8",null).exports,_={name:"register",data:function(){return{form:{gender:"男"}}},methods:{login:function(){this.$router.push({path:"/"})},register:function(){var e=this,t=!1;"男"===this.form.gender&&(t=!0),this.$axios.post("/user/register",{login_name:this.form.login_name,password:this.form.password,username:this.form.username,gender:t}).then(function(t){0===t.data.code&&e.$router.push({path:"/"})}).catch(function(e){console.log(e)})}}},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"register"}},[n("div",{staticClass:"name"},[e._v("\n      宝宝煎米果\n    ")]),e._v(" "),n("el-form",{attrs:{model:e.form,"label-width":"20%"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.form.login_name,callback:function(t){e.$set(e.form,"login_name",t)},expression:"form.login_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"昵称"}},[n("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password",placeholder:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"重复密码"}},[n("el-input",{attrs:{type:"password",placeholder:""},model:{value:e.form.repassword,callback:function(t){e.$set(e.form,"repassword",t)},expression:"form.repassword"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"性别"}},[n("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[n("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),n("el-option",{attrs:{label:"女",value:"女"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"",id:"submit"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var b=n("VU/8")(_,g,!1,function(e){n("4SG/")},"data-v-910289d6",null).exports;r.default.use(i.a);var x=[{path:"/index",name:"首页",component:p,children:[{path:"/im",index:1,name:"通讯",component:function(){return n.e(0).then(n.bind(null,"s8t2"))}},{path:"/space",index:2,name:"动态",component:function(){return n.e(2).then(n.bind(null,"YocN"))}},{path:"/square",index:3,name:"广场",component:function(){return n.e(1).then(n.bind(null,"NQaX"))}},{path:"/user",index:4,name:"个人中心",component:function(){return n.e(3).then(n.bind(null,"kB97"))}}]},{path:"/",name:"登陆",component:v},{path:"/register",name:"注册",component:b}],w=new i.a({routes:x}),k=n("zL8q"),$=n.n(k),y=(n("tvR6"),n("mtWM")),C=n.n(y);C.a.defaults.headers.post["Content-type"]="application/json",r.default.prototype.$axios=C.a.create({baseURL:"http://119.23.49.85:8090/api",timeout:5e3}),r.default.use($.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:w,components:{App:a},template:"<App/>"})},Y6vR:function(e,t){},o8nZ:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ab4c10b9d98b892b891e.js.map